{
  "kind": "build_request",
  "title": "User Management Page with Add/Delete, Roles, Accessibility, Password, and Profile Photo",
  "projectName": "Workshop POS",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a User Management page (UserDataPage) accessible from the main navigation. The page displays a table/list of all users, showing each user's profile photo (avatar), full name, role, and accessibility level.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "Halaman Pengguna berisi Data User"
        ]
      },
      "acceptanceCriteria": [
        "A 'Users' link appears in the main navigation (MainNav) that routes to the User Management page.",
        "The page renders a table listing all users with columns: Avatar/Photo, Name, Role, Accessibility.",
        "Each row shows the user's profile photo or a default avatar placeholder if none is uploaded."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement Add User functionality via a dialog/modal. The form must include fields for: Full Name, Role (dropdown: e.g., Admin, Cashier, Technician), Accessibility options (dropdown or checkboxes: e.g., Full Access, POS Only, Reports Only), Password, and Profile Photo upload. On save, the new user is added to the user list persisted in localStorage.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "menambah/menghapus user, lengkap dengan nama user Name , Role User disertai pilihan aksesibilitas user , pasword dan menu upload foto masing masing User"
        ]
      },
      "acceptanceCriteria": [
        "An 'Add User' button opens a modal dialog.",
        "The form contains: Name (text input), Role (select: Admin / Cashier / Technician), Accessibility (select: Full Access / POS Only / Reports Only), Password (password input), and Profile Photo (file upload accepting image files).",
        "Submitting the form with all required fields saves the user and shows them in the list.",
        "Profile photo is stored as a base64 data URL in localStorage alongside the user record.",
        "Form validation prevents saving if Name or Password is empty."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement Delete User functionality. Each user row has a delete button. Clicking it prompts a confirmation dialog before permanently removing the user from the list. The default admin user (username: admin) must not be deletable.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "menambah/menghapus user"
        ]
      },
      "acceptanceCriteria": [
        "Each user row displays a delete icon/button.",
        "Clicking delete opens a confirmation dialog ('Are you sure you want to delete this user?').",
        "Confirming removes the user from the list and localStorage.",
        "The default admin user row's delete button is disabled or hidden."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Seed a default admin user in the authentication system (useAuth hook) with username='admin' and password='admin123', Role='Admin', and Accessibility='Full Access'. This default user must always exist and cannot be removed.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "untuk admin default dengan user name = admin dan pasword = admin123"
        ]
      },
      "acceptanceCriteria": [
        "On first load (empty localStorage), the user list contains exactly one user: admin / admin123 / Admin role / Full Access.",
        "The admin user is always re-seeded if not present in localStorage.",
        "Logging in with username 'admin' and password 'admin123' succeeds."
      ]
    },
    {
      "id": "REQ-5",
      "text": "Add a profile photo upload control to the Add/Edit User modal. Uploaded images are previewed inline before saving. Profile photos are stored in localStorage as base64 strings and displayed as circular avatars in the user list table.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-6"
        ],
        "quotes": [
          "menu upload foto masing masing User"
        ]
      },
      "acceptanceCriteria": [
        "The Add User modal shows an image file picker with a preview area.",
        "After selecting an image, a circular preview is shown before saving.",
        "Saved users display their photo as a circular avatar in the table; users without a photo show a default avatar/initials placeholder.",
        "Clicking the avatar area in the edit dialog allows replacing the photo."
      ]
    }
  ],
  "constraints": [
    "User data (including profile photos as base64) must be persisted in localStorage, consistent with the existing useAuth hook pattern.",
    "The default admin user (username: admin, password: admin123) must always exist and cannot be deleted.",
    "Do not modify files listed in frontend.immutablePaths."
  ],
  "nonGoals": [
    "Backend (Motoko) user management — user data is localStorage-only for now.",
    "Internet Identity integration for user accounts.",
    "Password hashing or encryption — plain text password storage consistent with current implementation.",
    "Role-based route guarding or access enforcement beyond displaying the accessibility label."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}